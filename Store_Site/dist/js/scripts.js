const products=[{name:"Товар 1",category:"flowers",price:200,id:"1"},{name:"Товар 2",category:"flowers",price:350,id:"2"},{name:"Товар 3",category:"flowers",price:250,id:"3"},{name:"Товар 1",category:"electronics",price:1e3,id:"4"},{name:"Товар 2",category:"electronics",price:1500,id:"5"},{name:"Товар 3",category:"electronics",price:2e3,id:"6"},{name:"Товар 1",category:"books",price:100,id:"7"},{name:"Товар 2",category:"books",price:150,id:"8"},{name:"Товар 3",category:"books",price:200,id:"9"}];function displayCategories(){document.querySelectorAll(".list-group-item a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1);console.log(e),history.pushState({page:"category"},"",""+e),displayProductsByCategory(e)})})}function displayProductsByCategory(t){var e=products.filter(e=>e.category===t);console.log(e);const o=document.getElementById("middle-block");o.innerHTML="",e.forEach(t=>{var e=document.createElement("div"),n=document.createElement("a");n.href=`/${t.category}/`+t.id,e.textContent=`${t.name} - Ціна: ${t.price} грн`,n.appendChild(e),o.appendChild(n),n.addEventListener("click",e=>{e.preventDefault(),history.pushState({page:"product"},"",""+t.category),displayProductInfo(t)})})}function displayProductInfo(t){var e=document.getElementById("selected-product-info"),n=(e.innerHTML="",document.createElement("div")),n=(n.textContent="Назва: "+t.name,e.appendChild(n),document.createElement("div")),n=(n.textContent=`Ціна: ${t.price} грн`,e.appendChild(n),document.createElement("button"));n.textContent="Купити",n.addEventListener("click",function(e){e.preventDefault();e=`/${t.category}/`+t.id,history.pushState({page:"product"},"",e),alert(`Товар "${t.name}" куплений!`),countItems(),e="/"+t.category;history.replaceState({page:"category"},"",e)}),e.appendChild(n)}displayCategories();const BASKET_KEY="productsInBasket";function countItems(e){var t=JSON.parse(localStorage.getItem("cart"))||[];t.push(e),localStorage.setItem(BASKET_KEY,JSON.stringify(t)),document.getElementById("basket-count").textContent=t.length}const basketLink=document.getElementById("basket-link");function displayBasket(){var e=JSON.parse(localStorage.getItem("cart"))||[];document.getElementById("selected-product-info").innerHTML="";const n=document.getElementById("middle-block");n.innerHTML="",e.forEach(e=>{var t=document.createElement("div");t.textContent=`${e.name} - Ціна: ${e.price} грн`,n.appendChild(t)})}basketLink.addEventListener("click",function(e){e.preventDefault(),history.pushState({page:"basket"},"","/basket"),displayBasket()});const clearProductInfoContainer=()=>{document.getElementById("selected-product-info").innerHTML=""},clearProductListContainer=()=>{document.getElementById("middle-block").innerHTML=""};